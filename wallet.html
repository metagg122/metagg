<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <title>Untitled</title>
    

  </head>
    
  <body>
  <!doctype html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Balance Dashboard</title><style>*{margin:0;padding:0;box-sizing:border-box}body{font-family:Arial;background:#3E2723;overflow-x:hidden;padding-bottom:72px}.lang-toggle{position:absolute;top:10px;right:10px;background:#D4A574;color:#3E2723;border:0;padding:5px 10px;border-radius:4px;font-size:10px;cursor:pointer;z-index:100}.topbar-main{position:sticky;top:0;z-index:50;height:54px;background:#4A3428;display:flex;align-items:center;gap:10px;padding:0 14px;border-bottom:1px solid rgba(212,165,116,.25);box-shadow:0 2px 5px rgba(0,0,0,.25)}.back-main{background:none;border:0;cursor:pointer;padding:6px;color:#D4A574;display:flex;align-items:center}.back-main svg{width:24px;height:24px;fill:#D4A574}.card{background:#2E1B1F;width:100%;height:300px;padding:40px 35px;position:relative;margin:0;border:2px solid #D4A574;border-radius:15px}.row{display:flex;justify-content:space-between;margin-bottom:15px}.item{text-align:center;flex:1}.label{font-size:10px;margin-bottom:5px;color:#D4A574;font-weight:600}.amount{font-size:15px;font-weight:bold;color:#00FF7F;padding:8px 12px;border-radius:8px;display:inline-block;border:1px solid rgba(0,255,127,.65);box-shadow:0 0 15px rgba(0,255,127,.3);background:rgba(0,255,127,.1);text-shadow:0 0 10px rgba(0,255,127,.8)}.amount.red{color:#FF4444;border:1px solid rgba(255,68,68,.65);box-shadow:0 0 15px rgba(255,68,68,.3);background:rgba(255,68,68,.1);text-shadow:0 0 10px rgba(255,68,68,.8)}.divider{height:1px;background:#D4A574;opacity:.3;margin:15px 0}.circles{display:flex;justify-content:space-around;padding:15px 20px;gap:15px;background:#3E2723}.circle{display:flex;flex-direction:column;align-items:center;gap:10px}.circle-btn{width:100px;height:100px;border-radius:50%;background:url('https://i.ibb.co/m5Fx1NpB/IMG.png')center/cover;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:.3s;overflow:hidden;border:0}.circle-btn:hover{transform:scale(1.05)}.circle-btn img{width:100%;height:100%;object-fit:contain}.circle-text{color:#D4A574;font-size:11px;font-weight:600;text-align:center}.requests-log{background:#3E2723;border-top:2px solid #D4A574;margin:20px 0 0;padding:20px 0;text-align:center}.log-tabs{display:flex;justify-content:center;gap:20px;margin-bottom:20px}.log-tab{color:#D4A574;padding:10px 20px;border:1px solid #D4A574;border-radius:8px;background:rgba(212,165,116,.1);cursor:pointer;font-weight:600;font-size:14px}.log-tab.active{background:#D4A574;color:#3E2723}.log-content{display:flex;flex-direction:column;align-items:center;gap:10px}.request-card{background:linear-gradient(135deg,rgba(74,52,40,.9),rgba(62,39,35,.8));border:2px solid rgba(212,165,116,.4);border-radius:0;margin:0 0 12px 0;overflow:hidden;box-shadow:0 4px 12px rgba(0,0,0,.3);transition:.3s;width:100vw;margin-left:calc(-50vw + 50%)}.request-card.withdraw{border:2px solid rgba(255,68,68,.4)}.request-header{display:flex;justify-content:space-between;align-items:center;padding:16px 20px;cursor:pointer;position:relative;min-height:70px}.request-left{display:flex;flex-direction:column;align-items:flex-start;gap:6px}.request-status{background:#28A745;color:#fff;padding:6px 12px;border-radius:8px;font-size:12px;font-weight:700;box-shadow:0 2px 8px rgba(40,167,69,.3)}.request-id{color:rgba(212,165,116,.8);font-size:11px;font-weight:500;letter-spacing:.5px}.request-date{color:rgba(212,165,116,.9);font-size:11px;margin-top:2px}.request-type{color:#D4A574;font-size:10px;margin-top:2px;padding:2px 8px;border-radius:4px;background:rgba(212,165,116,.2)}.request-right{display:flex;flex-direction:column;align-items:flex-end;gap:6px}.request-amount{color:#28A745;font-size:20px;font-weight:bold;text-shadow:0 1px 3px rgba(0,0,0,.2)}.request-amount.withdraw{color:#FF4444}.request-details-btn{background:rgba(212,165,116,.2);color:#D4A574;padding:4px 12px;border-radius:6px;font-size:10px;cursor:pointer;border:1px solid rgba(212,165,116,.3);transition:.3s}.request-details-btn:hover{background:rgba(212,165,116,.4)}.request-details{max-height:0;overflow:hidden;transition:all .4s ease;background:rgba(30,15,18,.95);border-top:2px solid rgba(212,165,116,.2)}.request-details.active{max-height:300px}.request-details-content{padding:20px;color:#D4A574;font-size:13px}.detail-row{display:flex;justify-content:space-between;margin-bottom:12px;padding:8px 0;border-bottom:1px solid rgba(212,165,116,.1)}.detail-label{opacity:.8;font-weight:500}.detail-value{font-weight:700;color:#D4A574}.status-pending{background:#FFD700!important;color:#3E2723!important}.status-approved{background:#28A745!important;color:#fff!important}.status-rejected{background:#DC3545!important;color:#fff!important}.page{display:none;position:fixed;top:0;left:0;width:100%;height:100vh;background:#3E2723;z-index:1000}.page.show{display:block}.progress-bar{width:100%;height:3px;background:#FFD700;position:fixed;top:0;animation:loading 2s ease-in-out}.top-bar{background:#4A3428;padding:15px 20px;display:flex;align-items:center;gap:15px;box-shadow:0 2px 5px rgba(0,0,0,.3)}.back-btn{background:none;border:0;cursor:pointer;padding:5px;color:#D4A574}.back-btn svg{width:24px;height:24px;fill:#D4A574}.content-area{padding:20px;overflow-y:auto;height:calc(100vh - 60px)}.admin-form{background:rgba(74,52,40,.5);border-radius:10px;padding:20px;border:1px solid rgba(212,165,116,.3);margin-bottom:20px}.balance-section{background:rgba(62,39,35,.8);border-radius:10px;padding:20px;margin-bottom:20px;border:1px solid rgba(212,165,116,.3)}.balance-title{color:#D4A574;font-size:18px;font-weight:600;text-align:center;margin-bottom:15px}.balance-amount{color:#D4A574;font-size:16px;font-weight:bold}.form-title{color:#D4A574;font-size:16px;font-weight:600;margin-bottom:20px;text-align:center}.form-row{margin-bottom:20px}.form-input{width:100%;background:rgba(62,39,35,.8);border:1px solid rgba(212,165,116,.3);border-radius:8px;padding:12px;color:#D4A574;font-size:14px;outline:none}.form-input::placeholder{color:rgba(212,165,116,.6)}.dropdown-btn{width:100%;background:rgba(62,39,35,.8);border:1px solid rgba(212,165,116,.3);border-radius:8px;padding:12px;color:#D4A574;font-size:14px;text-align:left;cursor:pointer;display:flex;justify-content:space-between;align-items:center}.dropdown-content{display:none;position:absolute;width:100%;background:rgba(62,39,35,.9);border:1px solid rgba(212,165,116,.3);border-radius:8px;margin-top:5px;z-index:100;box-shadow:0 5px 15px rgba(0,0,0,.3)}.dropdown-item{padding:12px;color:#D4A574;cursor:pointer;border-bottom:1px solid rgba(212,165,116,.1);transition:background .3s}.dropdown-item:hover{background:rgba(212,165,116,.1)}.dropdown-item:last-child{border-bottom:0}.payment-dropdown{position:relative}.submit-btn{background:#D4A574;color:#3E2723;border:0;padding:12px 30px;border-radius:8px;font-weight:600;cursor:pointer;font-size:14px;transition:.3s}.submit-btn:hover{background:#F4D03F}.security-option{display:flex;justify-content:space-between;align-items:center;padding:15px 0;border-bottom:1px solid rgba(212,165,116,.2)}.security-label{color:#D4A574;font-size:16px;font-weight:600}.toggle-switch{position:relative;width:60px;height:34px;background:rgba(212,165,116,.3);border-radius:34px;cursor:pointer;transition:.3s}.toggle-switch.active{background:#28A745}.toggle-slider{position:absolute;top:3px;left:3px;width:28px;height:28px;background:#fff;border-radius:50%;transition:.3s}.toggle-switch.active .toggle-slider{left:29px}.security-pin-section{display:none;margin-top:15px}.security-pin-input{width:100%;background:rgba(62,39,35,.8);border:1px solid rgba(212,165,116,.3);border-radius:8px;padding:15px;color:#D4A574;font-size:18px;text-align:center;letter-spacing:8px;outline:none}.security-pin-input::placeholder{color:rgba(212,165,116,.6);letter-spacing:normal}.login-security{margin-top:20px;padding:15px;background:rgba(62,39,35,.8);border-radius:8px;border:1px solid rgba(212,165,116,.3)}.qr-section{background:linear-gradient(135deg,rgba(62,39,35,.9),rgba(74,52,40,.9));border-radius:15px;padding:25px;margin-bottom:20px;border:2px solid #D4A574;text-align:center;box-shadow:0 10px 30px rgba(0,0,0,.3)}.qr-code{width:180px;height:180px;background:#fff;margin:15px auto;border-radius:15px;display:flex;align-items:center;justify-content:center;position:relative;box-shadow:0 5px 15px rgba(0,0,0,.2)}.address-section{margin:20px 0}.address-label{color:#D4A574;font-size:16px;font-weight:600;margin-bottom:15px}.address-container{display:flex;background:rgba(62,39,35,.8);border:2px solid rgba(212,165,116,.5);border-radius:12px;overflow:hidden}.address-text{flex:1;padding:15px;color:#D4A574;font-size:12px;word-break:break-all;background:none;border:0;outline:none}.address-copy{background:linear-gradient(45deg,#D4A574,#F4D03F);color:#3E2723;border:0;padding:15px 25px;cursor:pointer;font-weight:600;font-size:12px;transition:.3s}.address-copy:hover{background:linear-gradient(45deg,#F4D03F,#FFD700)}.deposit-confirm{background:linear-gradient(45deg,#1976D2,#2196F3);color:#fff;width:100%;padding:18px;border:0;border-radius:12px;font-size:16px;font-weight:600;cursor:pointer;margin-top:15px;box-shadow:0 5px 15px rgba(25,118,210,.3);transition:.3s}.deposit-confirm:hover{background:linear-gradient(45deg,#1565C0,#1976D2);transform:translateY(-2px)}.payment-form{display:none;margin-top:25px;background:rgba(62,39,35,.9);border-radius:15px;padding:20px;border:2px solid rgba(212,165,116,.5)}.payment-input{width:100%;background:rgba(62,39,35,.8);border:2px solid rgba(212,165,116,.3);border-radius:10px;padding:15px;color:#D4A574;font-size:14px;outline:none;margin-bottom:15px;transition:.3s}.payment-input:focus{border-color:#D4A574;box-shadow:0 0 10px rgba(212,165,116,.2)}.payment-input::placeholder{color:rgba(212,165,116,.6)}.submit-payment{background:linear-gradient(45deg,#28A745,#34C759);color:#fff;width:100%;padding:18px;border:0;border-radius:12px;font-size:16px;font-weight:600;cursor:pointer;box-shadow:0 5px 15px rgba(40,167,69,.3);transition:.3s}.submit-payment:hover{background:linear-gradient(45deg,#218838,#28A745);transform:translateY(-2px)}.error-toast,.success-toast{position:fixed;top:20px;left:50%;transform:translateX(-50%);color:#fff;padding:15px 25px;border-radius:8px;z-index:10000;display:none;box-shadow:0 5px 15px rgba(0,0,0,.25)}.error-toast{background:#FF4444;box-shadow:0 5px 15px rgba(255,68,68,.3)}.success-toast{background:#28A745;box-shadow:0 5px 15px rgba(40,167,69,.3)}.loading{display:flex;justify-content:center;align-items:center;color:#D4A574;font-size:14px;padding:20px}.bottom-bar{position:fixed;left:50%;bottom:-170px;width:500px;height:500px;background:url('https://i.ibb.co/KcGh5LRv/file-0000000035d07246a90127cf6a8c2d4f-1-removebg-preview.png')center/contain no-repeat;z-index:80;cursor:pointer;transform:translateX(-50%);transition:all .3s;border:none;background-color:transparent}.click-zone{position:fixed;z-index:82;background:transparent;border:none;cursor:pointer}.zone-dashboard{left:calc(50% - 230px);bottom:calc(200px - 190px);width:80px;height:80px}.zone-profile{left:calc(50% + 140px);bottom:calc(200px - 190px);width:80px;height:80px}.zone-team{left:calc(50% + 80px);bottom:calc(190px - 180px);width:80px;height:80px}.zone-trade{left:calc(50% - 110px);bottom:calc(190px - 180px);width:80px;height:80px}[dir="rtl"]{direction:rtl;text-align:right}[dir="ltr"]{direction:ltr;text-align:left}@keyframes loading{0%,100%{width:0}50%{width:100%}}</style></head><body><button class="lang-toggle" onclick="toggleLanguage()">EN/AR</button><div class="error-toast" id="errorToast"></div><div class="success-toast" id="successToast"></div><div class="topbar-main"><button class="back-main" id="mainBack"><svg viewBox="0 0 24 24"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"></path></svg></button></div><div class="card"><div class="row"><div class="item"><div class="label" data-ar="الرصيد الحالي" data-en="Current Balance">Current Balance</div><div class="amount" id="currentBalance">$0.00</div></div><div class="item"><div class="label" data-ar="إيداعات معلقة" data-en="Pending Deposits">Pending Deposits</div><div class="amount" id="pendingDeposits">$0.00</div></div><div class="item"><div class="label" data-ar="سحب معلق" data-en="Pending Withdrawals">Pending Withdrawals</div><div class="amount red" id="pendingWithdrawals">$0.00</div></div></div><div class="divider"></div><div class="row"><div class="item"><div class="label" data-ar="الأموال المجمدة" data-en="Frozen Funds">Frozen Funds</div><div class="amount">$0.00</div></div><div class="item"><div class="label" data-ar="إيداعات مكتملة" data-en="Completed Deposits">Completed Deposits</div><div class="amount" id="completedDeposits">$0.00</div></div><div class="item"><div class="label" data-ar="سحب مكتمل" data-en="Completed Withdrawals">Completed Withdrawals</div><div class="amount red" id="completedWithdrawals">$0.00</div></div></div></div><div class="circles"><div class="circle"><button class="circle-btn" data-page="withdrawPage"><img src="https://i.ibb.co/LdtXGbYT/IMG.png" alt="Withdraw"></button><div class="circle-text" data-ar="سحب الأموال" data-en="Withdraw">Withdraw</div></div><div class="circle"><button class="circle-btn" data-page="depositPage"><img src="https://i.ibb.co/VYRz5Lgq/IMG-removebg-preview.png" alt="Deposit"></button><div class="circle-text" data-ar="إيداع الأموال" data-en="Deposit">Deposit</div></div><div class="circle"><button class="circle-btn" data-page="infoPage"><img src="https://i.ibb.co/XfY5qjHp/IMG-removebg-preview.png" alt="Instructions"></button><div class="circle-text" data-ar="تعليمات الإدارة" data-en="Instructions">Instructions</div></div><div class="circle"><button class="circle-btn" data-page="adminPage"><img src="https://i.ibb.co/rfbqmsKF/IMG.png" alt="Settings"></button><div class="circle-text" data-ar="الإعدادات" data-en="Settings">Settings</div></div></div><div class="requests-log"><div class="log-tabs"><div class="log-tab active" data-tab="all" data-ar="جميع الطلبات" data-en="All Requests">All Requests</div><div class="log-tab" data-tab="deposits" data-ar="الإيداعات" data-en="Deposits">Deposits</div><div class="log-tab" data-tab="withdrawals" data-ar="السحوبات" data-en="Withdrawals">Withdrawals</div></div><div class="log-content" id="logContent"><div class="loading" data-ar="جاري تحميل الطلبات..." data-en="Loading requests...">Loading requests...</div></div></div><div class="page" id="withdrawPage"><div class="progress-bar"></div><div class="top-bar"><button class="back-btn"><svg viewBox="0 0 24 24"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"></path></svg></button><div style="color:#D4A574;font-weight:600;font-size:16px" data-ar="سحب الأموال" data-en="Withdraw Funds">Withdraw Funds</div></div><div class="content-area"><div class="balance-section"><div class="balance-title" data-ar="الرصيد الحالي:" data-en="Current Balance:">Current Balance:</div><div class="balance-amount" style="text-align:center;font-size:24px" id="withdrawBalance">$0.00</div></div><div class="admin-form"><div class="form-title" data-ar="طلب سحب:" data-en="Withdrawal Request:">Withdrawal Request:</div><div class="form-row"><input type="number" class="form-input" id="withdrawAmount" data-ar-placeholder="المبلغ" data-en-placeholder="Amount" placeholder="Amount" style="text-align:center"></div><div class="form-row"><div class="payment-dropdown"><div class="dropdown-btn" id="withdrawPaymentBtn"><span data-ar="اختر نوع الشبكة" data-en="Select Network Type">Select Network Type</span><svg width="12" height="12" viewBox="0 0 24 24" fill="#D4A574"><path d="M7 10l5 5 5-5z"></path></svg></div><div class="dropdown-content" id="withdrawPaymentDropdown"><div class="dropdown-item" data-method="Perfect Money">Perfect Money</div><div class="dropdown-item" data-method="USDT TRC20">USDT TRC20</div><div class="dropdown-item" data-method="Binance ID">Binance ID</div><div class="dropdown-item" data-method="Payeer">Payeer</div><div class="dropdown-item" data-method="Bitcoin">Bitcoin</div></div></div></div><div class="form-row"><input type="text" class="form-input" id="withdrawAddress" data-ar-placeholder="عنوان المحفظة" data-en-placeholder="Wallet Address" placeholder="Wallet Address" style="text-align:center"></div><div class="form-row"><button class="submit-btn" style="width:100%;background:#FF4444;font-size:16px;padding:15px" id="withdrawSubmitBtn" data-ar="تأكيد طلب السحب" data-en="Confirm Withdrawal">Confirm Withdrawal</button></div></div></div></div><div class="page" id="depositPage"><div class="progress-bar"></div><div class="top-bar"><button class="back-btn"><svg viewBox="0 0 24 24"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"></path></svg></button><div style="color:#D4A574;font-weight:600;font-size:16px" data-ar="إيداع الأموال" data-en="Deposit Funds">Deposit Funds</div></div><div class="content-area"><div class="qr-section" id="depositSection"><div class="form-title">USDT TRC20</div><div class="qr-code" id="qrCode"></div><div class="address-section"><div class="address-label" data-ar="عنوان المحفظة:" data-en="Wallet Address:">Wallet Address:</div><div class="address-container"><input type="text" class="address-text" id="walletAddress" value="TJuW6QiLBZBgNgPZ4W2sUkqHa3i7gfvVch" readonly><button class="address-copy" data-ar="نسخ" data-en="Copy">Copy</button></div></div><button class="deposit-confirm" data-ar="تأكيد الدفع" data-en="Confirm Payment">Confirm Payment</button></div><div class="payment-form" id="paymentForm"><div class="form-title" data-ar="تفاصيل الدفع" data-en="Payment Details">Payment Details</div><input type="number" class="payment-input" id="depositAmount" data-ar-placeholder="أدخل مبلغ الإيداع..." data-en-placeholder="Enter deposit amount..." placeholder="Enter deposit amount..."><input type="text" class="payment-input" id="transactionId" data-ar-placeholder="أدخل معرف المعاملة..." data-en-placeholder="Enter transaction ID..." placeholder="Enter transaction ID..."><button class="submit-payment" id="submitDeposit" data-ar="إرسال الطلب" data-en="Submit Request">Submit Request</button></div></div></div><div class="page" id="infoPage"><div class="progress-bar"></div><div class="top-bar"><button class="back-btn"><svg viewBox="0 0 24 24"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"></path></svg></button><div style="color:#D4A574;font-weight:600;font-size:16px" data-ar="التعليمات" data-en="Instructions">Instructions</div></div><div class="content-area"><div class="admin-form"><div class="form-title" data-ar="تعليمات الإيداع والسحب" data-en="Deposit & Withdrawal Instructions">Deposit & Withdrawal Instructions</div><p style="color:#D4A574;line-height:1.6;margin-bottom:20px" data-ar="قم بالإيداع باستخدام شبكة USDT TRC20. تحقق من العناوين قبل إرسال الأموال. للسحب، تأكد من وجود رصيد كافي في حسابك. جميع الطلبات تتم مراجعتها يدوياً للحماية." data-en="Deposit using USDT TRC20 network. Verify addresses before sending funds. For withdrawals, ensure sufficient balance in your account. All requests are manually reviewed for security.">Deposit using USDT TRC20 network. Verify addresses before sending funds. For withdrawals, ensure sufficient balance in your account. All requests are manually reviewed for security.</p><p style="color:#D4A574;line-height:1.6" data-ar="أوقات المعالجة: الإيداع 5-30 دقيقة، السحب 24-48 ساعة. اتصل بالدعم لأي مشاكل." data-en="Processing times: Deposits 5-30 minutes, Withdrawals 24-48 hours. Contact support for any issues.">Processing times: Deposits 5-30 minutes, Withdrawals 24-48 hours. Contact support for any issues.</p></div></div></div><div class="page" id="adminPage"><div class="progress-bar"></div><div class="top-bar"><button class="back-btn"><svg viewBox="0 0 24 24"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"></path></svg></button><div style="color:#D4A574;font-weight:600;font-size:16px" data-ar="الإعدادات" data-en="Settings">Settings</div></div><div class="content-area"><div class="admin-form"><div class="form-title" data-ar="إعدادات الأمان" data-en="Security Settings">Security Settings</div><div class="security-option"><div class="security-label" data-ar="تفعيل أمان السحب" data-en="Enable Withdrawal Security">Enable Withdrawal Security</div><div class="toggle-switch" id="withdrawSecurityToggle"><div class="toggle-slider"></div></div></div><div class="security-pin-section" id="withdrawPinSection"><input type="password" class="security-pin-input" id="withdrawSecurityPin" data-ar-placeholder="أدخل رقم الأمان (6 أرقام)" data-en-placeholder="Enter security PIN (6 digits)" placeholder="Enter security PIN (6 digits)" maxlength="6" pattern="[0-9]{6}"></div></div><div class="admin-form"><div class="form-title" data-ar="إعدادات تسجيل الدخول" data-en="Login Settings">Login Settings</div><div class="security-option"><div class="security-label" data-ar="تفعيل أمان تسجيل الدخول" data-en="Enable Login Security">Enable Login Security</div><div class="toggle-switch" id="loginSecurityToggle"><div class="toggle-slider"></div></div></div><div class="security-pin-section" id="loginPinSection"><input type="password" class="security-pin-input" id="loginSecurityPin" data-ar-placeholder="أدخل رقم الأمان (6 أرقام)" data-en-placeholder="Enter security PIN (6 digits)" placeholder="Enter security PIN (6 digits)" maxlength="6" pattern="[0-9]{6}"></div></div><div class="admin-form"><div class="form-title" data-ar="معلومات المستخدم" data-en="User Information">User Information</div><p style="color:#D4A574;line-height:1.6" data-ar="مرحباً بك في لوحة التحكم الخاصة بك" data-en="Welcome to your control panel">Welcome to your control panel</p></div></div></div><div class="bottom-bar" id="bottomIcon"></div><div class="click-zone zone-dashboard"></div><div class="click-zone zone-profile"></div><div class="click-zone zone-team"></div><div class="click-zone zone-trade"></div><script>let currentUser=null,currentBalance=0,selectedWithdrawMethod="",currentLang='en';const firebaseConfig={apiKey:"AIzaSyA-MK1RYmvpYJrTOBAQcxDqxhp-z_FOb1o",authDomain:"mzjsjjshs.firebaseapp.com",projectId:"mzjsjjshs",storageBucket:"mzjsjjshs.firebasestorage.app",messagingSenderId:"944370558426",appId:"1:944370558426:web:70d4ee772c487f48b58ce3",measurementId:"G-CWJWKWBBST"};function generateQRCode(){try{const address=document.getElementById('walletAddress').value,qrContainer=document.getElementById('qrCode');if(!address)return;const methods=[()=>{if(typeof QRCode!=='undefined')QRCode.toCanvas(qrContainer,address,{width:180,height:180,margin:2},err=>err&&fallback2());else fallback2()},()=>{fetch(`https://api.qrserver.com/v1/create-qr-code/?size=180x180&data=${encodeURIComponent(address)}`).then(r=>r.blob()).then(blob=>{const img=new Image();img.onload=()=>{const canvas=document.createElement('canvas');canvas.width=180;canvas.height=180;const ctx=canvas.getContext('2d');ctx.drawImage(img,0,0);qrContainer.innerHTML='';qrContainer.appendChild(canvas)};img.src=URL.createObjectURL(blob)}).catch(fallback3)},()=>{const img=new Image();img.onload=()=>{const canvas=document.createElement('canvas');canvas.width=180;canvas.height=180;const ctx=canvas.getContext('2d');ctx.drawImage(img,0,0);qrContainer.innerHTML='';qrContainer.appendChild(canvas)};img.onerror=fallback4;img.src=`https://chart.googleapis.com/chart?chs=180x180&cht=qr&chl=${encodeURIComponent(address)}`},()=>{qrContainer.innerHTML=`<div style="font-size:14px;color:#D4A574;text-align:center;padding:20px">Scan QR: ${address.substring(0,20)}...</div>`}];const fallback2=methods[1],fallback3=methods[2],fallback4=methods[3];methods[0]()}catch(e){console.error('QR error:',e)}}window.toggleLanguage=()=>{currentLang=currentLang==='en'?'ar':'en';document.documentElement.setAttribute('dir',currentLang==='ar'?'rtl':'ltr');updateLanguage()};function updateLanguage(){document.querySelectorAll('[data-ar][data-en]').forEach(el=>el.textContent=el.getAttribute('data-'+currentLang));document.querySelectorAll('[data-ar-placeholder][data-en-placeholder]').forEach(el=>el.placeholder=el.getAttribute('data-'+currentLang+'-placeholder'))}function showToast(m,t='success'){const e=document.getElementById(t+'Toast');if(e){e.textContent=m;e.style.display='block';setTimeout(()=>e.style.display='none',3000)}}function showPage(i){document.querySelectorAll('.page').forEach(e=>e.classList.remove('show'));document.getElementById(i)?.classList.add('show')}function hidePage(i){document.getElementById(i)?.classList.remove('show')}window.toggleDetails=(id)=>document.getElementById('details-'+id)?.classList.toggle('active');function navigateTo(url){window.location.href=url}document.addEventListener('DOMContentLoaded',()=>{setTimeout(generateQRCode,1000);document.querySelector('.zone-dashboard')?.addEventListener('click',()=>navigateTo('dashboard.html'));document.querySelector('.zone-profile')?.addEventListener('click',()=>navigateTo('profile.html'));document.querySelector('.zone-team')?.addEventListener('click',()=>navigateTo('team.html'));document.querySelector('.zone-trade')?.addEventListener('click',()=>navigateTo('trade.html'));document.getElementById('mainBack')?.addEventListener('click',()=>document.querySelectorAll('.page').forEach(p=>p.classList.remove('show')));document.querySelectorAll('.circle-btn').forEach(b=>b.addEventListener('click',function(){showPage(this.getAttribute('data-page'))}));document.querySelectorAll('.back-btn').forEach(b=>b.addEventListener('click',function(){hidePage(this.closest('.page')?.id)}));document.getElementById('withdrawPaymentBtn')?.addEventListener('click',function(){const dropdown=document.getElementById('withdrawPaymentDropdown');dropdown.style.display=dropdown.style.display==='block'?'none':'block'});document.querySelectorAll('#withdrawPaymentDropdown .dropdown-item').forEach(item=>item.addEventListener('click',function(){selectedWithdrawMethod=this.getAttribute('data-method');document.getElementById('withdrawPaymentBtn').innerHTML=`<span>${selectedWithdrawMethod}</span><svg width="12" height="12" viewBox="0 0 24 24" fill="#D4A574"><path d="M7 10l5 5 5-5z"></path></svg>`;document.getElementById('withdrawPaymentDropdown').style.display='none'}));document.querySelector('.address-copy')?.addEventListener('click',()=>{const text=document.getElementById('walletAddress')?.value||'TJuW6QiLBZBgNgPZ4W2sUkqHa8c2d4f';navigator.clipboard?.writeText(text).then(()=>showToast('Address copied')).catch(()=>showToast('Copy failed','error'))});document.querySelector('.deposit-confirm')?.addEventListener('click',()=>document.getElementById('paymentForm').style.display='block');document.querySelectorAll('.log-tab').forEach(t=>t.addEventListener('click',function(){document.querySelectorAll('.log-tab').forEach(x=>x.classList.remove('active'));this.classList.add('active')}));document.addEventListener('click',e=>{if(!e.target.closest('.payment-dropdown'))document.getElementById('withdrawPaymentDropdown').style.display='none'})});</script><script type="module">import{initializeApp}from"https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";import{getAuth,signInAnonymously,onAuthStateChanged}from"https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";import{getFirestore,collection,addDoc,onSnapshot,query,orderBy,doc,setDoc,getDoc,updateDoc}from"https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";const app=initializeApp(firebaseConfig),auth=getAuth(app),db=getFirestore(app),translations={en:{currentBalance:"Current Balance",insufficientBalance:"Insufficient balance",fillAllFields:"Please fill all fields",authError:"Authentication error",withdrawalSubmitted:"Withdrawal request submitted successfully",depositSubmitted:"Deposit request submitted successfully",addressCopied:"Address copied",copyFailed:"Copy failed",securitySettingsSaved:"Security settings saved",saveSettingsError:"Error saving settings",noRequests:"No requests found",pending:"Pending",approved:"Approved",rejected:"Rejected",requestNumber:"Request #",type:"Type",status:"Status",network:"Network",address:"Address",transactionId:"Transaction ID"},ar:{currentBalance:"الرصيد الحالي",insufficientBalance:"الرصيد غير كافي",fillAllFields:"يرجى ملء جميع الحقول",authError:"خطأ في المصادقة",withdrawalSubmitted:"تم تقديم طلب السحب بنجاح",depositSubmitted:"تم تقديم طلب الإيداع بنجاح",addressCopied:"تم نسخ العنوان",copyFailed:"فشل في النسخ",securitySettingsSaved:"تم حفظ إعدادات الأمان",saveSettingsError:"خطأ في حفظ الإعدادات",noRequests:"لا توجد طلبات",pending:"قيد المراجعة",approved:"مقبول",rejected:"مرفوض",requestNumber:"رقم الطلب",type:"النوع",status:"الحالة",network:"الشبكة",address:"العنوان",transactionId:"معرف المعاملة"}};try{signInAnonymously(auth);onAuthStateChanged(auth,u=>{currentUser=u;if(u){loadUserData();loadTransactions();loadSecuritySettings()}})}catch(e){console.error('Firebase error:',e)}async function loadUserData(){if(!currentUser)return;try{const docRef=doc(db,'users',currentUser.uid),docSnap=await getDoc(docRef);if(docSnap.exists())currentBalance=docSnap.data().balance||0;else{await setDoc(docRef,{balance:0,createdAt:new Date()});currentBalance=0}updateBalanceDisplay()}catch(e){console.error('Load error:',e)}}async function updateBalance(amount){if(!currentUser)return;try{const docRef=doc(db,'users',currentUser.uid),newBalance=currentBalance+amount;await updateDoc(docRef,{balance:newBalance,updatedAt:new Date()});currentBalance=newBalance;updateBalanceDisplay()}catch(e){console.error('Update error:',e)}}function updateBalanceDisplay(){document.getElementById('currentBalance').textContent='$'+currentBalance.toFixed(2);const wb=document.getElementById('withdrawBalance');if(wb)wb.textContent='$'+currentBalance.toFixed(2)}async function submitWithdrawal(){try{const a=parseFloat(document.getElementById('withdrawAmount').value),addr=document.getElementById('withdrawAddress').value;if(!a||!addr||!selectedWithdrawMethod){showToast(translations[currentLang].fillAllFields,'error');return}if(a>currentBalance){showToast(translations[currentLang].insufficientBalance,'error');return}if(!currentUser){showToast(translations[currentLang].authError,'error');return}await updateBalance(-a);await addDoc(collection(db,'transactions'),{userId:currentUser.uid,amount:a,address:addr,method:selectedWithdrawMethod,type:'withdrawal',status:'pending',createdAt:new Date()});showToast(translations[currentLang].withdrawalSubmitted);hidePage('withdrawPage')}catch(e){console.error('Withdraw error:',e)}}async function submitDeposit(){try{const a=document.getElementById('depositAmount').value,tx=document.getElementById('transactionId').value;if(!a||!tx){showToast(translations[currentLang].fillAllFields,'error');return}if(!currentUser){showToast(translations[currentLang].authError,'error');return}await addDoc(collection(db,'transactions'),{userId:currentUser.uid,amount:parseFloat(a),transactionId:tx,type:'deposit',status:'pending',createdAt:new Date()});showToast(translations[currentLang].depositSubmitted);hidePage('depositPage')}catch(e){console.error('Deposit error:',e)}}function loadTransactions(){if(!currentUser)return;try{onSnapshot(query(collection(db,'transactions'),orderBy('createdAt','desc')),snapshot=>{const transactions=[];let pendingDeposits=0,completedDeposits=0,pendingWithdrawals=0,completedWithdrawals=0;snapshot.forEach(doc=>{const data=doc.data();if(data.userId===currentUser.uid){transactions.push({id:doc.id,...data});if(data.type==='deposit'){if(data.status==='pending')pendingDeposits+=data.amount;else if(data.status==='approved')completedDeposits+=data.amount}else if(data.type==='withdrawal'){if(data.status==='pending')pendingWithdrawals+=data.amount;else if(data.status==='approved')completedWithdrawals+=data.amount}}});updateTransactionUI(transactions,pendingDeposits,completedDeposits,pendingWithdrawals,completedWithdrawals)})}catch(e){console.error('Load transactions error:',e)}}function updateTransactionUI(transactions,pendingDep,completedDep,pendingWith,completedWith){document.getElementById('pendingDeposits').textContent='$'+pendingDep.toFixed(2);document.getElementById('completedDeposits').textContent='$'+completedDep.toFixed(2);document.getElementById('pendingWithdrawals').textContent='$'+pendingWith.toFixed(2);document.getElementById('completedWithdrawals').textContent='$'+completedWith.toFixed(2);const logContent=document.getElementById('logContent');if(!transactions.length){logContent.innerHTML=`<div style="text-align:center;color:#D4A574;padding:40px">${translations[currentLang].noRequests}</div>`;return}let html='';transactions.forEach(t=>{const isWithdraw=t.type==='withdrawal',statusClass=t.status==='pending'?'status-pending':t.status==='approved'?'status-approved':'status-rejected',statusText=translations[currentLang][t.status]||t.status,date=t.createdAt?.toDate?t.createdAt.toDate().toLocaleDateString():new Date().toLocaleDateString(),typeText=isWithdraw?'Withdrawal':'Deposit';html+=`<div class="request-card ${isWithdraw?'withdraw':''}"><div class="request-header" onclick="toggleDetails('${t.id}')"><div class="request-left"><div class="request-status ${statusClass}">${statusText}</div><div class="request-id">#${Math.random().toString(36).substr(2,8)}</div><div class="request-date">${date}</div><div class="request-type">${typeText}</div></div><div class="request-right"><div class="request-amount ${isWithdraw?'withdraw':''}">$${t.amount.toFixed(2)}</div><div class="request-details-btn">Details</div></div></div><div class="request-details" id="details-${t.id}"><div class="request-details-content"><div class="detail-row"><span class="detail-label">${translations[currentLang].type}</span><span class="detail-value">${typeText}</span></div><div class="detail-row"><span class="detail-label">Amount</span><span class="detail-value">$${t.amount}</span></div>${!isWithdraw?`<div class="detail-row"><span class="detail-label">${translations[currentLang].transactionId}</span><span class="detail-value">${t.transactionId}</span></div>`:`<div class="detail-row"><span class="detail-label">${translations[currentLang].address}</span><span class="detail-value">${t.address}</span></div>`}<div class="detail-row"><span class="detail-label">${translations[currentLang].status}</span><span class="detail-value">${statusText}</span></div></div></div></div>`});logContent.innerHTML=html}async function loadSecuritySettings(){if(!currentUser)return;try{const docRef=doc(db,'security',currentUser.uid),docSnap=await getDoc(docRef);if(docSnap.exists()){const data=docSnap.data();if(data.withdrawSecurity){document.getElementById('withdrawSecurityToggle')?.classList.add('active');const section=document.getElementById('withdrawPinSection');if(section)section.style.display='block'}if(data.loginSecurity){document.getElementById('loginSecurityToggle')?.classList.add('active');const section=document.getElementById('loginPinSection');if(section)section.style.display='block'}}}catch(e){console.error('Load security error:',e)}}async function saveSecuritySettings(type,enabled,pin=''){if(!currentUser)return;try{const docRef=doc(db,'security',currentUser.uid),updateData={};updateData[type]=enabled;if(pin)updateData[type+'Pin']=pin;await setDoc(docRef,updateData,{merge:true});showToast(translations[currentLang].securitySettingsSaved)}catch(e){console.error('Save security error:',e)}}document.getElementById('withdrawSubmitBtn')?.addEventListener('click',submitWithdrawal);document.getElementById('submitDeposit')?.addEventListener('click',submitDeposit);document.getElementById('withdrawSecurityToggle')?.addEventListener('click',function(){this.classList.toggle('active');const pinSection=document.getElementById('withdrawPinSection');if(pinSection){if(this.classList.contains('active'))pinSection.style.display='block';else{pinSection.style.display='none';saveSecuritySettings('withdrawSecurity',false)}}});document.getElementById('loginSecurityToggle')?.addEventListener('click',function(){this.classList.toggle('active');const pinSection=document.getElementById('loginPinSection');if(pinSection){if(this.classList.contains('active'))pinSection.style.display='block';else{pinSection.style.display='none';saveSecuritySettings('loginSecurity',false)}}});document.getElementById('withdrawSecurityPin')?.addEventListener('input',function(){if(this.value.length===6&&/^\d{6}$/.test(this.value))saveSecuritySettings('withdrawSecurity',true,this.value)});document.getElementById('loginSecurityPin')?.addEventListener('input',function(){if(this.value.length===6&&/^\d{6}$/.test(this.value))saveSecuritySettings('loginSecurity',true,this.value)});</script></body></html>
    
  </body>
  
</html>
